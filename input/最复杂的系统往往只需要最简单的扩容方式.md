---
title: 最复杂的系统往往只需要最简单的扩容方式
date: 2024-05-04 13:35:11
tags: vmware
---
环境：Ubuntu 20.04

先在虚拟机设置中增加硬盘容量，不过此时还处于灰色未分配状态

扩容前安装gparted
```
sudo apt-get install gparted
```

终端运行gparted，出现图形界面

/dev/sda1 为主分区
/dev/sda2 为扩展分区
/dev/sda5 为逻辑分区（我的sda5挂在sda2目录下

这个时候的正确操作（网上绝无仅有版！）：

step1
右键sda2所在分区，选择更改大小选项，将箭头拖到最右端

step2
右键sda5所在分区，选择更改大小选项，将箭头拖到最右端

两个都要改！！因为是挂载版，比较特殊

（在尝试这个方法前还尝试了fdisk，并且gparted大部分人分区和我不一样（他们好像没有扩展分区所以没办法复现，中间甚至碰到了很多稀奇古怪的错误，，，**虚拟机快照**你值得拥有